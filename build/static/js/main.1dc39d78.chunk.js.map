{"version":3,"sources":["components/DeleteButton.js","components/Person.js","components/Persons.js","components/Filter.js","services/persons.js","components/PersonForm.js","components/Notification.js","App.js","index.js"],"names":["DeleteButton","text","person","handleDelete","persons","onClick","Person","setPersons","name","number","Persons","personsToShow","map","key","Filter","props","value","newFilter","onChange","e","console","log","target","setNewFilter","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","PersonForm","newName","newNumber","setNewName","setNewNumber","setMessage","setMessageType","message","onSubmit","preventDefault","toLowerCase","includes","window","confirm","updatePerson","find","changedPerson","phoneService","setTimeout","catch","error","returnedPerson","concat","type","Notification","messageType","className","App","useState","newToDisplay","setToDisplay","useEffect","initialPersons","filter","setPerson","deletePerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1dc39d78.chunk.js","sourcesContent":["import React from 'react';\n\nconst DeleteButton = ({ text, person, handleDelete, persons }) => {\n  return (\n    <>\n      <button onClick={() => handleDelete(person)}>{text}</button>\n    </>\n  );\n};\n\nexport default DeleteButton;\n","import React from 'react'\nimport DeleteButton from './DeleteButton'\n\nconst Person = ({ person, setPersons, handleDelete, persons }) => {\n  return (\n    <li>\n      {person.name} {person.number}{' '}\n      <DeleteButton\n        persons={persons}\n        person={person}\n        text={'Delete'}\n        setPersons={setPersons}\n        handleDelete={handleDelete}\n      />\n    </li>\n  )\n}\n\nexport default Person\n","import React from 'react';\nimport Person from './Person';\n\nconst Persons = ({ personsToShow, handleDelete }) => {\n  const rows = () =>\n    personsToShow.map(person => (\n      <Person person={person} key={person.name} handleDelete={handleDelete} />\n    ));\n\n  return (\n    <div>\n      <ul>{rows()}</ul>\n    </div>\n  );\n};\n\nexport default Persons;\n","import React from 'react';\nconst Filter = props => {\n  const handleFilterChange = e => {\n    console.log(e.target.value);\n    props.setNewFilter(e.target.value);\n  };\n  return (\n    <div>\n      Filter shown with:\n      <input value={props.newFilter} onChange={handleFilterChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n\tconst request = axios.get(baseUrl)\n\treturn request.then(response => response.data)\n}\n\nconst create = newObject => {\n\tconst request = axios.post(baseUrl, newObject)\n\treturn request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n\tconst request = axios.put(`${baseUrl}/${id}`, newObject)\n\treturn request.then(response => response.data)\n}\n\nconst remove = id => {\n\tconst request = axios.delete(`${baseUrl}/${id}`)\n\treturn request.then(response => response.data)\n}\n\nexport default {\n\tgetAll,\n\tcreate,\n\tupdate,\n\tremove\n}\n","import React from 'react'\nimport phoneService from '../services/persons'\n\nconst PersonForm = ({\n\tnewName,\n\tnewNumber,\n\tsetNewName,\n\tsetNewNumber,\n\tsetPersons,\n\tpersons,\n\tsetMessage,\n\tsetMessageType,\n\tmessage\n}) => {\n\tconst addPerson = e => {\n\t\te.preventDefault()\n\n\t\tif (\n\t\t\tpersons\n\t\t\t\t.map(person => person.name.toLowerCase())\n\t\t\t\t.includes(newName.toLowerCase())\n\t\t) {\n\t\t\t// return alert(`${newName} is already in the phonebook.`);\n\t\t\tconst confirmation = window.confirm(\n\t\t\t\t`${newName} is already in the phone book. Replace the old number with the new one?`\n\t\t\t)\n\t\t\tif (confirmation) {\n\t\t\t\tconst updatePerson = persons.find(person => person.name === newName)\n\t\t\t\tconst changedPerson = {\n\t\t\t\t\t...updatePerson,\n\t\t\t\t\tnumber: newNumber\n\t\t\t\t}\n\t\t\t\treturn phoneService\n\t\t\t\t\t.update(updatePerson.id, changedPerson)\n\t\t\t\t\t.then(\n\t\t\t\t\t\tsetPersons(\n\t\t\t\t\t\t\tpersons.map(person =>\n\t\t\t\t\t\t\t\tperson.name === newName ? changedPerson : person\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t.then(setMessageType('success'))\n\t\t\t\t\t.then(setMessage(`${newName} updated`))\n\t\t\t\t\t.then(\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tsetMessage(null)\n\t\t\t\t\t\t}, 2000)\n\t\t\t\t\t)\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tsetMessageType('error')\n\t\t\t\t\t\tsetMessage(` '${newName}' was already removed from the phonebook`)\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tsetMessage(null)\n\t\t\t\t\t\t}, 3000)\n\t\t\t\t\t\tconsole.log(error)\n\t\t\t\t\t})\n\t\t\t} else return\n\t\t}\n\n\t\tconsole.log('personObject still running')\n\n\t\tconst personObject = { name: newName, number: newNumber }\n\t\tphoneService\n\t\t\t.create(personObject)\n\t\t\t.then(returnedPerson => {\n\t\t\t\tsetPersons(persons.concat(returnedPerson))\n\t\t\t\tsetNewName('')\n\t\t\t\tsetNewNumber('')\n\t\t\t\tconsole.log('create still running')\n\t\t\t\tsetMessageType('success')\n\t\t\t\tsetMessage(`${newName} added`)\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetMessage(null)\n\t\t\t\t}, 3000)\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.log('error running')\n\t\t\t\tconsole.log(error.response)\n\t\t\t\tsetMessageType('error')\n\t\t\t\tsetMessage(error.response.data.error)\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetMessage(null)\n\t\t\t\t}, 3000)\n\t\t\t})\n\t}\n\n\tconst handleNameChange = e => {\n\t\tconsole.log(e.target.value)\n\t\tsetNewName(e.target.value)\n\t}\n\n\tconst handleNumberChange = e => {\n\t\tconsole.log(e.target.value)\n\t\tsetNewNumber(e.target.value)\n\t}\n\treturn (\n\t\t<form onSubmit={addPerson}>\n\t\t\t<div>\n\t\t\t\tname: <input value={newName} onChange={handleNameChange} />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\tnumber: <input value={newNumber} onChange={handleNumberChange} />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<button type='submit'>add</button>\n\t\t\t</div>\n\t\t</form>\n\t)\n}\n\nexport default PersonForm\n","import React from 'react'\nimport '../index.css'\n\nconst Notification = ({ message, messageType }) => {\n  if (message === null) {\n    return null\n  }\n  if (messageType === 'error') {\n    return <div className='error'>{message}</div>\n  }\n  if (messageType === 'success') {\n    return <div className='success'>{message}</div>\n  }\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport phoneService from './services/persons'\nimport Notification from './components/Notification'\nimport './index.css'\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([])\n\tconst [newName, setNewName] = useState('')\n\tconst [newNumber, setNewNumber] = useState('')\n\tconst [newFilter, setNewFilter] = useState('')\n\tconst [newToDisplay, setToDisplay] = useState(persons)\n\tconst [message, setMessage] = useState(null)\n\tconst [messageType, setMessageType] = useState('success')\n\n\tuseEffect(() => {\n\t\tphoneService\n\t\t\t.getAll()\n\t\t\t.then(initialPersons => {\n\t\t\t\tsetPersons(initialPersons)\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tsetMessageType('error')\n\t\t\t\tsetMessage(`Unable to get names from the server`)\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetMessage(null)\n\t\t\t\t}, 2000)\n\t\t\t})\n\t}, [])\n\n\tlet personsToShow = persons\n\n\tconst handleDelete = deletePerson => {\n\t\tconst confirmation = window.confirm(`Delete ${deletePerson.name}?`)\n\t\tif (confirmation) {\n\t\t\tphoneService\n\t\t\t\t.remove(deletePerson.id)\n\t\t\t\t.then(\n\t\t\t\t\tsetPersons(persons.filter(person => person.id !== deletePerson.id))\n\t\t\t\t)\n\t\t\t\t.then(setMessageType('success'))\n\t\t\t\t.then(setMessage(`${deletePerson.name} deleted`))\n\t\t\t\t.then(\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetMessage(null)\n\t\t\t\t\t}, 2000)\n\t\t\t\t)\n\t\t\t\t.catch(error => {\n\t\t\t\t\tsetMessageType('error')\n\t\t\t\t\tsetMessage(`${deletePerson.name} wasn't deleted`)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetMessage(null)\n\t\t\t\t\t}, 2000)\n\t\t\t\t})\n\t\t}\n\t}\n\n\tpersonsToShow =\n\t\tnewFilter === ''\n\t\t\t? (personsToShow = persons)\n\t\t\t: (personsToShow = persons.filter(person =>\n\t\t\t\t\tperson.name.toLowerCase().includes(newFilter.toLowerCase())\n\t\t\t  ))\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<h3>\n\t\t\t\t<Notification message={message} messageType={messageType} />\n\t\t\t</h3>\n\t\t\t<form>\n\t\t\t\t<div>\n\t\t\t\t\t<Filter\n\t\t\t\t\t\tnewFilter={newFilter}\n\t\t\t\t\t\tsetNewFilter={setNewFilter}\n\t\t\t\t\t\tnewToDisplay={newToDisplay}\n\t\t\t\t\t\tsetToDisplay={setToDisplay}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t\t<h2>To Add</h2>\n\t\t\t<PersonForm\n\t\t\t\tnewName={newName}\n\t\t\t\tsetNewName={setNewName}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t\tsetNewNumber={setNewNumber}\n\t\t\t\tpersons={persons}\n\t\t\t\tsetPersons={setPersons}\n\t\t\t\tsetMessage={setMessage}\n\t\t\t\tsetMessageType={setMessageType}\n\t\t\t\tmessage={message}\n\t\t\t/>\n\t\t\t<h2>Numbers</h2>\n\t\t\t<Persons\n\t\t\t\tpersonsToShow={personsToShow}\n\t\t\t\tsetPerson={setPersons}\n\t\t\t\thandleDelete={handleDelete}\n\t\t\t\tpersons={persons}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}