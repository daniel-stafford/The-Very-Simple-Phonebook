{"version":3,"sources":["components/DeleteButton.js","components/Person.js","components/Persons.js","components/Filter.js","services/persons.js","components/PersonForm.js","components/Notification.js","App.js","index.js"],"names":["DeleteButton","text","person","handleDelete","persons","onClick","Person","setPersons","name","number","Persons","personsToShow","map","key","Filter","props","value","newFilter","onChange","e","console","log","target","setNewFilter","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","PersonForm","newName","newNumber","setNewName","setNewNumber","setMessage","setMessageType","message","onSubmit","preventDefault","toLowerCase","includes","window","confirm","updatePerson","find","changedPerson","phoneService","setTimeout","catch","error","returnedPerson","concat","type","Notification","messageType","className","App","useState","newToDisplay","setToDisplay","useEffect","initialPersons","filter","setPerson","deletePerson","ReactDOM","render","document","getElementById"],"mappings":"uNAUeA,EARM,SAAC,GAA6C,IAA3CC,EAA0C,EAA1CA,KAAMC,EAAoC,EAApCA,OAAQC,EAA4B,EAA5BA,aAA4B,EAAdC,QAClD,OACE,oCACE,4BAAQC,QAAS,kBAAMF,EAAaD,KAAUD,KCarCK,EAfA,SAAC,GAAmD,IAAjDJ,EAAgD,EAAhDA,OAAQK,EAAwC,EAAxCA,WAAYJ,EAA4B,EAA5BA,aAAcC,EAAc,EAAdA,QAClD,OACE,4BACGF,EAAOM,KADV,IACiBN,EAAOO,OAAQ,IAC9B,kBAAC,EAAD,CACEL,QAASA,EACTF,OAAQA,EACRD,KAAM,SACNM,WAAYA,EACZJ,aAAcA,MCIPO,EAbC,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,cAAeR,EAAmB,EAAnBA,aAMhC,OACE,6BACE,4BANFQ,EAAcC,IAAI,SAAAV,GAAM,OACtB,kBAAC,EAAD,CAAQA,OAAQA,EAAQW,IAAKX,EAAOM,KAAML,aAAcA,SCQ/CW,EAbA,SAAAC,GAKb,OACE,kDAEE,2BAAOC,MAAOD,EAAME,UAAWC,SAPR,SAAAC,GACzBC,QAAQC,IAAIF,EAAEG,OAAON,OACrBD,EAAMQ,aAAaJ,EAAEG,OAAON,Y,wBCH1BQ,EAAU,eAsBD,EApBA,WAEd,OADgBC,IAAMC,IAAIF,GACXG,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAkB3B,EAfA,SAAAC,GAEd,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAa3B,EAVA,SAACG,EAAIF,GAEnB,OADgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBQ,GAAMF,GAC/BH,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAQ3B,EALA,SAAAG,GAEd,OADgBP,IAAMS,OAAN,UAAgBV,EAAhB,YAA2BQ,IAC5BL,KAAK,SAAAC,GAAQ,OAAIA,EAASC,Q,4NCjB1C,IAgHeM,EAhHI,SAAC,GAUb,IATLC,EASI,EATJA,QACAC,EAQI,EARJA,UACAC,EAOI,EAPJA,WACAC,EAMI,EANJA,aACAhC,EAKI,EALJA,WACAH,EAII,EAJJA,QACAoC,EAGI,EAHJA,WACAC,EAEI,EAFJA,eAEI,EADJC,QAwFA,OACE,0BAAMC,SAvFU,SAAAxB,GAGhB,GAFAA,EAAEyB,iBAGAxC,EACGQ,IAAI,SAAAV,GAAM,OAAIA,EAAOM,KAAKqC,gBAC1BC,SAASV,EAAQS,gBAMpB,GAHqBE,OAAOC,QAAP,UAChBZ,EADgB,4EAGH,CAChB,IAAMa,EAAe7C,EAAQ8C,KAAK,SAAAhD,GAAM,OAAIA,EAAOM,OAAS4B,IACtDe,E,qVAAa,IACdF,EADc,CAEjBxC,OAAQ4B,IAEV,OAAOe,EACGH,EAAajB,GAAImB,GACxBxB,KACCpB,EACEH,EAAQQ,IAAI,SAAAV,GAAM,OAChBA,EAAOM,OAAS4B,EAAUe,EAAgBjD,MAI/CyB,KAAKc,EAAe,YACpBd,KAAKa,EAAW,GAAD,OAAIJ,EAAJ,cACfT,KACC0B,WAAW,WACTb,EAAW,OACV,MAEJc,MAAM,SAAAC,GACLd,EAAe,SACfD,EAAW,KAAD,OAAMJ,EAAN,6CACViB,WAAW,WACTb,EAAW,OACV,aAMXY,EADqB,CAAE5C,KAAM4B,EAAS3B,OAAQ4B,IAG3CV,KAAK,SAAA6B,GACJjD,EAAWH,EAAQqD,OAAOD,IAC1BlB,EAAW,IACXC,EAAa,IACbnB,QAAQC,IAAI,0BAEbM,KAAKc,EAAe,YACpBd,KAAKa,EAAW,GAAD,OAAIJ,EAAJ,YACfT,KACC0B,WAAW,WACTb,EAAW,OACV,MAEJc,MAAM,SAAAC,GACLd,EAAe,SACfD,EAAW,KAAD,OAAMJ,EAAN,oBACViB,WAAW,WACTb,EAAW,OACV,SAuBL,sCACQ,2BAAOxB,MAAOoB,EAASlB,SAZV,SAAAC,GACvBC,QAAQC,IAAIF,EAAEG,OAAON,OACrBsB,EAAWnB,EAAEG,OAAON,WAYlB,wCACU,2BAAOA,MAAOqB,EAAWnB,SAVZ,SAAAC,GACzBC,QAAQC,IAAIF,EAAEG,OAAON,OACrBuB,EAAapB,EAAEG,OAAON,WAUpB,6BACE,4BAAQ0C,KAAK,UAAb,UC9FOC,G,MAZM,SAAC,GAA8B,IAA5BjB,EAA2B,EAA3BA,QAASkB,EAAkB,EAAlBA,YAC/B,OAAgB,OAAZlB,EACK,KAEW,UAAhBkB,EACK,yBAAKC,UAAU,SAASnB,GAEb,YAAhBkB,EACK,yBAAKC,UAAU,WAAWnB,QADnC,IC+FaoB,EAjGH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACT3D,EADS,KACAG,EADA,OAEcwD,mBAAS,IAFvB,mBAET3B,EAFS,KAEAE,EAFA,OAGkByB,mBAAS,IAH3B,mBAGT1B,EAHS,KAGEE,EAHF,OAIkBwB,mBAAS,IAJ3B,mBAIT9C,EAJS,KAIEM,EAJF,OAKqBwC,mBAAS3D,GAL9B,mBAKT4D,EALS,KAKKC,EALL,OAMcF,mBAAS,MANvB,mBAMTrB,EANS,KAMAF,EANA,OAOsBuB,mBAAS,WAP/B,mBAOTH,EAPS,KAOInB,EAPJ,KAShByB,oBAAU,WACRd,IAEGzB,KAAK,SAAAwC,GACJ5D,EAAW4D,KAEZb,MAAM,SAAAC,GACLd,EAAe,SACfD,EAAW,uCACXa,WAAW,WACTb,EAAW,OACV,QAEN,IAEH,IAAI7B,EAAgBP,EAkCpB,OAPAO,EAEOA,EADS,KAAdM,EACqBb,EACAA,EAAQgE,OAAO,SAAAlE,GAAM,OACpCA,EAAOM,KAAKqC,cAAcC,SAAS7B,EAAU4B,iBAInD,6BACE,yCACA,4BACE,kBAAC,EAAD,CAAcH,QAASA,EAASkB,YAAaA,KAE/C,8BACE,6BACE,kBAAC,EAAD,CACE3C,UAAWA,EACXM,aAAcA,EACdyC,aAAcA,EACdC,aAAcA,MAIpB,sCACA,kBAAC,EAAD,CACE7B,QAASA,EACTE,WAAYA,EACZD,UAAWA,EACXE,aAAcA,EACdnC,QAASA,EACTG,WAAYA,EACZiC,WAAYA,EACZC,eAAgBA,EAChBC,QAASA,IAEX,uCACA,kBAAC,EAAD,CACE/B,cAAeA,EACf0D,UAAW9D,EACXJ,aAhEe,SAAAmE,GACEvB,OAAOC,QAAP,iBAAyBsB,EAAa9D,KAAtC,OAEnB4C,EACUkB,EAAatC,IACpBL,KACCpB,EAAWH,EAAQgE,OAAO,SAAAlE,GAAM,OAAIA,EAAO8B,KAAOsC,EAAatC,OAEhEL,KAAKc,EAAe,YACpBd,KAAKa,EAAW,GAAD,OAAI8B,EAAa9D,KAAjB,cACfmB,KACC0B,WAAW,WACTb,EAAW,OACV,MAEJc,MAAM,SAAAC,GACLd,EAAe,SACfD,EAAW,GAAD,OAAI8B,EAAa9D,KAAjB,oBACV6C,WAAW,WACTb,EAAW,OACV,QA6CLpC,QAASA,MC/FjBmE,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.693ca39a.chunk.js","sourcesContent":["import React from 'react';\n\nconst DeleteButton = ({ text, person, handleDelete, persons }) => {\n  return (\n    <>\n      <button onClick={() => handleDelete(person)}>{text}</button>\n    </>\n  );\n};\n\nexport default DeleteButton;\n","import React from 'react'\nimport DeleteButton from './DeleteButton'\n\nconst Person = ({ person, setPersons, handleDelete, persons }) => {\n  return (\n    <li>\n      {person.name} {person.number}{' '}\n      <DeleteButton\n        persons={persons}\n        person={person}\n        text={'Delete'}\n        setPersons={setPersons}\n        handleDelete={handleDelete}\n      />\n    </li>\n  )\n}\n\nexport default Person\n","import React from 'react';\nimport Person from './Person';\n\nconst Persons = ({ personsToShow, handleDelete }) => {\n  const rows = () =>\n    personsToShow.map(person => (\n      <Person person={person} key={person.name} handleDelete={handleDelete} />\n    ));\n\n  return (\n    <div>\n      <ul>{rows()}</ul>\n    </div>\n  );\n};\n\nexport default Persons;\n","import React from 'react';\nconst Filter = props => {\n  const handleFilterChange = e => {\n    console.log(e.target.value);\n    props.setNewFilter(e.target.value);\n  };\n  return (\n    <div>\n      Filter shown with:\n      <input value={props.newFilter} onChange={handleFilterChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n\tconst request = axios.get(baseUrl)\n\treturn request.then(response => response.data)\n}\n\nconst create = newObject => {\n\tconst request = axios.post(baseUrl, newObject)\n\treturn request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n\tconst request = axios.put(`${baseUrl}/${id}`, newObject)\n\treturn request.then(response => response.data)\n}\n\nconst remove = id => {\n\tconst request = axios.delete(`${baseUrl}/${id}`)\n\treturn request.then(response => response.data)\n}\n\nexport default {\n\tgetAll,\n\tcreate,\n\tupdate,\n\tremove\n}\n","import React from 'react'\nimport phoneService from '../services/persons'\n\nconst PersonForm = ({\n  newName,\n  newNumber,\n  setNewName,\n  setNewNumber,\n  setPersons,\n  persons,\n  setMessage,\n  setMessageType,\n  message\n}) => {\n  const addPerson = e => {\n    e.preventDefault()\n\n    if (\n      persons\n        .map(person => person.name.toLowerCase())\n        .includes(newName.toLowerCase())\n    ) {\n      // return alert(`${newName} is already in the phonebook.`);\n      const confirmation = window.confirm(\n        `${newName} is already in the phone book. Replace the old number with the new one?`\n      )\n      if (confirmation) {\n        const updatePerson = persons.find(person => person.name === newName)\n        const changedPerson = {\n          ...updatePerson,\n          number: newNumber\n        }\n        return phoneService\n          .update(updatePerson.id, changedPerson)\n          .then(\n            setPersons(\n              persons.map(person =>\n                person.name === newName ? changedPerson : person\n              )\n            )\n          )\n          .then(setMessageType('success'))\n          .then(setMessage(`${newName} updated`))\n          .then(\n            setTimeout(() => {\n              setMessage(null)\n            }, 2000)\n          )\n          .catch(error => {\n            setMessageType('error')\n            setMessage(` '${newName}' was already removed from the phonebook`)\n            setTimeout(() => {\n              setMessage(null)\n            }, 2000)\n          })\n      } else return\n    }\n\n    const personObject = { name: newName, number: newNumber }\n    phoneService\n      .create(personObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        console.log('create still running')\n      })\n      .then(setMessageType('success'))\n      .then(setMessage(`${newName} added`))\n      .then(\n        setTimeout(() => {\n          setMessage(null)\n        }, 2000)\n      )\n      .catch(error => {\n        setMessageType('error')\n        setMessage(` '${newName}' wasn't added.`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 2000)\n      })\n  }\n\n  //   axios.post('http://localhost:3001/persons', personObject).then(response => {\n  //     setPersons(persons.concat(response.data));\n  //     console.log('response', response);\n  //     setNewName('');\n  //     setNewNumber('');\n  //   });\n  // };\n\n  const handleNameChange = e => {\n    console.log(e.target.value)\n    setNewName(e.target.value)\n  }\n\n  const handleNumberChange = e => {\n    console.log(e.target.value)\n    setNewNumber(e.target.value)\n  }\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type='submit'>add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm\n","import React from 'react'\nimport '../index.css'\n\nconst Notification = ({ message, messageType }) => {\n  if (message === null) {\n    return null\n  }\n  if (messageType === 'error') {\n    return <div className='error'>{message}</div>\n  }\n  if (messageType === 'success') {\n    return <div className='success'>{message}</div>\n  }\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport phoneService from './services/persons'\nimport Notification from './components/Notification'\nimport './index.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [newToDisplay, setToDisplay] = useState(persons)\n  const [message, setMessage] = useState(null)\n  const [messageType, setMessageType] = useState('success')\n\n  useEffect(() => {\n    phoneService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n      .catch(error => {\n        setMessageType('error')\n        setMessage(`Unable to get names from the server`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 2000)\n      })\n  }, [])\n\n  let personsToShow = persons\n\n  const handleDelete = deletePerson => {\n    const confirmation = window.confirm(`Delete ${deletePerson.name}?`)\n    if (confirmation) {\n      phoneService\n        .remove(deletePerson.id)\n        .then(\n          setPersons(persons.filter(person => person.id !== deletePerson.id))\n        )\n        .then(setMessageType('success'))\n        .then(setMessage(`${deletePerson.name} deleted`))\n        .then(\n          setTimeout(() => {\n            setMessage(null)\n          }, 2000)\n        )\n        .catch(error => {\n          setMessageType('error')\n          setMessage(`${deletePerson.name} wasn't deleted`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 2000)\n        })\n    }\n  }\n\n  personsToShow =\n    newFilter === ''\n      ? (personsToShow = persons)\n      : (personsToShow = persons.filter(person =>\n          person.name.toLowerCase().includes(newFilter.toLowerCase())\n        ))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <h3>\n        <Notification message={message} messageType={messageType} />\n      </h3>\n      <form>\n        <div>\n          <Filter\n            newFilter={newFilter}\n            setNewFilter={setNewFilter}\n            newToDisplay={newToDisplay}\n            setToDisplay={setToDisplay}\n          />\n        </div>\n      </form>\n      <h2>To Add</h2>\n      <PersonForm\n        newName={newName}\n        setNewName={setNewName}\n        newNumber={newNumber}\n        setNewNumber={setNewNumber}\n        persons={persons}\n        setPersons={setPersons}\n        setMessage={setMessage}\n        setMessageType={setMessageType}\n        message={message}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        personsToShow={personsToShow}\n        setPerson={setPersons}\n        handleDelete={handleDelete}\n        persons={persons}\n      />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}